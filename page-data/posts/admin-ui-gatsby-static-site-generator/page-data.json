{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/admin-ui-gatsby-static-site-generator","result":{"data":{"markdownRemark":{"id":"82c5a6fd-4aef-5f62-8da9-860820839cb0","html":"<p><strong>There is a newer post about how to setup an Admin UI for GatsbyJS, and it’s easier. Check it out <a href=\"/cms-gatsbyjs\">here</a>.</strong></p>\n<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>Recently, I was looking into <a href=\"https://www.gatsbyjs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Gatsby.js</a> as a generator for a blog site. As many others, I one of the first steps into using the system as other popular CMS solutions, I started to look around for an online back-end UI for the content creation part. I found this list of <a href=\"https://headlesscms.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">headless CMS options</a> and since <a href=\"https://forestry.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">forestry</a> (the service I use for my blog) does not support Gatsby, I decided to try <a href=\"https://www.netlifycms.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">NetlifyCMS</a>. This tutorial will be about it :)</p>\n<p>I’m not going into details on the separate services and software packages, their advantages and super features. Rather, I will keep the tutorial concise on how to integrate the systems.</p>\n<p>If you like more background about the JAM stack, you can see previous mentions <a href=\"/march-digest-2017/#jam-stack\">here</a> and <a href=\"/releasing-new-blog/\">here</a> ;)</p>\n<h3 id=\"start\" style=\"position:relative;\"><a href=\"#start\" aria-label=\"start permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Start</h3>\n<p>For the tutorial, assume I’m speaking about <a href=\"https://github.com/Vagr9K/gatsby-advanced-starter\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gatsby advanced starterkit</a> although same principles apply to which-ever starterkit or gatsby setup. The important part is to have markdown as data source, as well as well-defined front-matter parsed by <a href=\"https://github.com/gatsbyjs/gatsby/tree/master/packages/gatsby-transformer-remark\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gatsby-transformer-remark</a> and exposed to a GraphQL API within the Gatsby. In short, make sure you have markdown files so that the information you write is “understood” by NetlifyCMS and Gatsby, and others.</p>\n<h3 id=\"netlifycms\" style=\"position:relative;\"><a href=\"#netlifycms\" aria-label=\"netlifycms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NetlifyCMS</h3>\n<p>It’s an open source decoupled back-end built on React, which <a href=\"https://www.netlifycms.org/docs/intro/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">integrates with Github API</a>. I personally like this idea, because publishing work-flows actually translate to steps developers already take on code repositories.</p>\n<p>To use this admin UI application easily, you can integrate it with the Netlify service which will watch for changes in your github repository and do the necessary builds, previews and deploys.</p>\n<p>To make Gatsby work with this tutorial, you will need to:</p>\n<ul>\n<li>make a <a href=\"https://www.gatsbyjs.org/docs/building-with-components/#page-components\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">page component</a> for the admin page, this should include the scripts loading the NetlifyCMS app</li>\n<li>include the <code class=\"language-text\">config.yml</code> file in <code class=\"language-text\">static</code> folder of Gatsby, as it does not need optimization by webpack</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 829px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/90e5ed5479001f3c05dac406677d18e3/9d76a/deployment-settings-netlify.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAv0lEQVQY032QCQ6EIAxFuf89jYIgIghSlpmvZjLMoi9NQ7p82rJINBuzWKu0TinVg8cF9ROG5q4fuoH3XBDRWZRzjoAoNmxEiLdae/OktQ/hFN7Ttc5m6XquJi2kEnKC56OEX71HTXnBwraNSlm34pFLzojVujiHTujupY0h2xoLMUJyEFLPphwhNOAGo1QYp9yyj41/7OowUj5AFG/nfTm2uIGdGri2sbZc3/kvjFLC55hw9YEovVfK5WvDX3sCY4rUpjV5TzoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/90e5ed5479001f3c05dac406677d18e3/8ac56/deployment-settings-netlify.webp 240w,\n/static/90e5ed5479001f3c05dac406677d18e3/d3be9/deployment-settings-netlify.webp 480w,\n/static/90e5ed5479001f3c05dac406677d18e3/eb5c2/deployment-settings-netlify.webp 829w\"\n              sizes=\"(max-width: 829px) 100vw, 829px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/90e5ed5479001f3c05dac406677d18e3/8ff5a/deployment-settings-netlify.png 240w,\n/static/90e5ed5479001f3c05dac406677d18e3/e85cb/deployment-settings-netlify.png 480w,\n/static/90e5ed5479001f3c05dac406677d18e3/9d76a/deployment-settings-netlify.png 829w\"\n            sizes=\"(max-width: 829px) 100vw, 829px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/90e5ed5479001f3c05dac406677d18e3/9d76a/deployment-settings-netlify.png\"\n            alt=\"Deployment settings in Netlify\"\n            title=\"Deployment settings in Netlify\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>If you have configured Netlify service to take your master branch and execute <code class=\"language-text\">npm run build</code> on new deployments, a new push will already give you access to the admin UI app.</p>\n<h3 id=\"gatsby\" style=\"position:relative;\"><a href=\"#gatsby\" aria-label=\"gatsby permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby</h3>\n<p>This side might seem a bit more complex compared to copy-paste and rework to a small React component, but it’s actually a simple process.</p>\n<ul>\n<li>move all markdown files into 1 folder, you need a flat structure, otherwise NetlifyCMS won’t be able to list the existing content in the dashboard</li>\n<li>configure the <code class=\"language-text\">SiteConfig.js</code> ​to point to this folder containing the files</li>\n<li>configure also, by the way, configure also the <code class=\"language-text\">config.yml</code> of Netlify to be the same target</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cb87ef9e863099d1e6244445d11a3038/7a3d6/netlify-deployments.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7ElEQVQY03WRCW7EIAxFuf9FWwIEwg4JTB+JVE2ljmUhL9/2txHneXa085yt99aWcV3X/CAL1ho1YwxBAdBrDBK85OaYr/n6JLV3d/iYMwVCtYqvjEHtQTgqs0ulaA+Uju+V8NNm350DhivSzTLl/GguZfFm/vxnOtvFtGClVgDiOyefs9zUZozerXXHpjUqtf6Sm7aW1v2+C1Jak0pDDRgRUe4QhJ0P1vsjhFRKrpXmGEyg+Fc50IMMMeEK3WppnUXYhDPQ01jLi4vBKd9pM5wUYynmHoKT0wMnpltjfL7tkfH3n5gcQKTFidQP3rLRHXNeP/0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/cb87ef9e863099d1e6244445d11a3038/8ac56/netlify-deployments.webp 240w,\n/static/cb87ef9e863099d1e6244445d11a3038/d3be9/netlify-deployments.webp 480w,\n/static/cb87ef9e863099d1e6244445d11a3038/e46b2/netlify-deployments.webp 960w,\n/static/cb87ef9e863099d1e6244445d11a3038/a66df/netlify-deployments.webp 990w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/cb87ef9e863099d1e6244445d11a3038/8ff5a/netlify-deployments.png 240w,\n/static/cb87ef9e863099d1e6244445d11a3038/e85cb/netlify-deployments.png 480w,\n/static/cb87ef9e863099d1e6244445d11a3038/d9199/netlify-deployments.png 960w,\n/static/cb87ef9e863099d1e6244445d11a3038/7a3d6/netlify-deployments.png 990w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/cb87ef9e863099d1e6244445d11a3038/d9199/netlify-deployments.png\"\n            alt=\"Netlify deployments\"\n            title=\"Netlify deployments\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>Check if all works, and if yes, make another deployment to the your repository. I personally removed all the unnecessary content manually and had to flush the cache of the last deploy in the console.</p>\n<h3 id=\"the-result\" style=\"position:relative;\"><a href=\"#the-result\" aria-label=\"the result permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The result</h3>\n<p>You have a modern tool-chain of React, GraphQL, webpack, and similar, called Gatsby, and you have a working administration UI to manage your content when you’re lazy to open your editor ;)</p>\n<p>Here’s a <a href=\"https://github.com/kalinchernev/kalinchernev.github.io/blob/blog/static/videos/netlify-cms-gatsby.mp4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">video of the process</a> from making a draft which is a pull request, opening a preview and then publishing the change which gets automatically deployed on the site.</p>","fields":{"slug":"/posts/admin-ui-gatsby-static-site-generator","tagSlugs":["/tag/jam-stack/","/tag/java-script/","/tag/gatsby-js/"]},"frontmatter":{"date":"2017-08-16T23:33:31+00:00","description":"Thoughts on integrating Gatsby.js with Netlify CMS.","tags":["JAMStack","JavaScript","GatsbyJS"],"title":"Admin UI for Gatsby static site generator","socialImage":null}}},"pageContext":{"slug":"/posts/admin-ui-gatsby-static-site-generator"}},"staticQueryHashes":["251939775","3691206191","401334301"]}