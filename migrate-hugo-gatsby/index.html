<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-jsx-239cdbc481eaa8f683a7.js" as="script"/><link rel="preload" href="/component---src-templates-post-jsx-03c2578b4447572f077c.js" as="script"/><link rel="preload" href="/path---migrate-hugo-gatsby-2c46ba249f65d91bd55f.js" as="script"/><link rel="preload" href="/app-0494da9cbd1a254349c4.js" as="script"/><link rel="preload" href="/commons-3163c2467c847a5e0464.js" as="script"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:137.5%/1.56 'Source Sans Pro',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.7);font-family:'Source Sans Pro',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;position:relative;left:50%;transform:translateX(-50%);}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;color:hsla(0,0%,0%,0.85);font-family:'Source Sans Pro',sans-serif;font-weight:200;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;color:hsla(0,0%,0%,0.85);font-family:'Source Sans Pro',sans-serif;font-weight:200;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;color:hsla(0,0%,0%,0.85);font-family:'Source Sans Pro',sans-serif;font-weight:200;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;color:hsla(0,0%,0%,0.85);font-family:'Source Sans Pro',sans-serif;font-weight:200;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;color:hsla(0,0%,0%,0.85);font-family:'Source Sans Pro',sans-serif;font-weight:200;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;color:hsla(0,0%,0%,0.85);font-family:'Source Sans Pro',sans-serif;font-weight:200;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}ul{margin-left:1.56rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.56rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;font-size:0.85rem;line-height:1.56rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;font-size:1rem;line-height:1.56rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}blockquote{margin-left:0;margin-right:1.56rem;margin-top:0;padding-bottom:0;padding-left:1.17rem;padding-right:0;padding-top:0;margin-bottom:1.56rem;font-size:1.20112rem;line-height:1.56rem;color:hsla(0,0%,0%,0.6);border-left:0.39rem solid hsla(0,0%,0%,0.13);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.56rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.56rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.56rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.56rem;margin-bottom:calc(1.56rem / 2);margin-top:calc(1.56rem / 2);}li > ul{margin-left:1.56rem;margin-bottom:calc(1.56rem / 2);margin-top:calc(1.56rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.56rem / 2);}code{font-size:0.85rem;line-height:1.56rem;}kbd{font-size:0.85rem;line-height:1.56rem;}samp{font-size:0.85rem;line-height:1.56rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.04rem;padding-right:1.04rem;padding-top:0.78rem;padding-bottom:calc(0.78rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{font-weight:200;}a{font-weight:400;color:#185D8B;text-decoration:none;}a:hover{color:#2a6496;text-decoration:underline;}@media only screen and (max-width:768px){html{font-size:100%;line-height:24.88px;}blockquote{margin-left:-1.17rem;margin-right:0;padding-left:0.78rem;}table{font-size:0.83255rem;line-height:1.56rem;}}</style><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,400i,700" rel="stylesheet" type="text/css"/><title data-react-helmet="true">Migrate from Hugo to GatsbyJS | Kalin Chernev</title><meta data-react-helmet="true" name="description" content=""/><meta data-react-helmet="true" name="keywords" content=""/><meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0 shrink-to-fit=no"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#ffffff"/><style id="gatsby-inlined-css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.src-layouts-css----styles-module---main---3hOy9{margin:0 auto;max-width:720px;padding:1.25rem 1rem}.src-components-css----styles-module---header---2zWhO{background:#36648b;margin-bottom:1.45rem}.src-components-css----styles-module---header-heading---101pz{margin:0}.src-components-css----styles-module---header-layout---1uhr_{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;margin:0 auto;max-width:720px;padding:1.45rem 1.0875rem}.src-components-css----styles-module---logo---SfU8_{color:#fff;text-decoration:none;text-shadow:none;background:none}.src-components-css----styles-module---logo---SfU8_:hover{color:#fff;opacity:.8}.src-components-css----styles-module---post-meta---w1c3N{color:#545454;display:-ms-flexbox;display:flex;font-size:.8rem}.src-components-css----styles-module---post-time---1sQsi{padding-left:0;text-transform:uppercase;white-space:nowrap}.src-components-css----styles-module---post-timeToRead---T-kZB{font-size:.8rem;font-style:italic;margin-bottom:.4rem}.src-components-css----styles-module---post-tags---1BKid{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;list-style:none;margin:0 .8rem}.src-components-css----styles-module---post-tag---3ePpn{color:#9eabb3;margin-right:.6rem;margin-bottom:.2rem}.src-components-css----styles-module---post-tag---3ePpn a{color:#545454}.src-components-css----styles-module---social-media---2Jk6G{display:-ms-flexbox;display:flex;list-style:none}.src-components-css----styles-module---social-media---2Jk6G li{margin-right:1rem}.src-components-css----styles-module---social-media---2Jk6G a{color:#fff}.gatsby-resp-image-image{right:0;left:50%!important}.src-templates-css----styles-module---gatsby-resp-image-image---2R7FB{right:0;left:50%!important}.src-templates-css----styles-module---listing---349Sd{list-style-type:none;margin-left:0}.src-templates-css----styles-module---listing---349Sd a{text-decoration:none}.src-templates-css----styles-module---listing---349Sd a h3:hover{text-decoration:underline}.src-templates-css----styles-module---listing---349Sd a p{color:#000}.src-pages-css----styles-module---listing---YM0fg{list-style-type:none;margin-left:0}.src-pages-css----styles-module---listing---YM0fg a{text-decoration:none}.src-pages-css----styles-module---listing---YM0fg a h3:hover{text-decoration:underline}.src-pages-css----styles-module---listing---YM0fg a p{color:#000}</style></head><body><div id="___gatsby"><div data-reactroot="" data-reactid="1" data-react-checksum="-1037810918"><!-- react-empty: 2 --><div class="src-components-css----styles-module---header---2zWhO" data-reactid="3"><div class="src-components-css----styles-module---header-layout---1uhr_" data-reactid="4"><div data-reactid="5"><h1 class="src-components-css----styles-module---header-heading---101pz" data-reactid="6"><a class="src-components-css----styles-module---logo---SfU8_" href="/" data-reactid="7">Kalin Chernev</a></h1><!-- react-text: 8 -->Writing crystallizes thought and thought produces action<!-- /react-text --></div><ul class="src-components-css----styles-module---social-media---2Jk6G" data-reactid="9"><li data-reactid="10"><a title="Link to a LinkedIn profile" href="https://www.linkedin.com/in/kalinchernev/" data-reactid="11">LinkedIn</a></li><li data-reactid="12"><a title="Link to a Github profile" href="https://github.com/kalinchernev" data-reactid="13">Github</a></li><li data-reactid="14"><a title="Link to a Twitter profile" href="https://twitter.com/kalinchernev" data-reactid="15">Twitter</a></li></ul></div></div><div class="src-layouts-css----styles-module---main---3hOy9" data-reactid="16"><div data-reactid="17"><!-- react-empty: 18 --><div data-reactid="19"><section class="src-components-css----styles-module---post-meta---w1c3N" data-reactid="20"><time class="src-components-css----styles-module---post-time---1sQsi" datetime="2017-11-02T12:00:00.113Z" data-reactid="21">Thursday, November 2, 2017</time><ul class="src-components-css----styles-module---post-tags---1BKid" data-reactid="22"><li class="src-components-css----styles-module---post-tag---3ePpn" data-reactid="23"><a title="Click here to see all posts about javascript" href="/tags/javascript" data-reactid="24"><!-- react-text: 25 -->#<!-- /react-text --><!-- react-text: 26 -->JavaScript<!-- /react-text --></a></li><li class="src-components-css----styles-module---post-tag---3ePpn" data-reactid="27"><a title="Click here to see all posts about jamstack" href="/tags/jamstack" data-reactid="28"><!-- react-text: 29 -->#<!-- /react-text --><!-- react-text: 30 -->JAMStack<!-- /react-text --></a></li><li class="src-components-css----styles-module---post-tag---3ePpn" data-reactid="31"><a title="Click here to see all posts about gatsbyjs" href="/tags/gatsbyjs" data-reactid="32"><!-- react-text: 33 -->#<!-- /react-text --><!-- react-text: 34 -->GatsbyJS<!-- /react-text --></a></li></ul></section><div class="src-components-css----styles-module---post-timeToRead---T-kZB" data-reactid="35"><!-- react-text: 36 -->Approximately <!-- /react-text --><!-- react-text: 37 -->9<!-- /react-text --><!-- react-text: 38 --> minutes to read ...<!-- /react-text --></div></div><h1 data-reactid="39">Migrate from Hugo to GatsbyJS</h1><div data-reactid="40"><h2 id="introduction"><a href="#introduction" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>After the recent <a href="/releasing-new-blog">migration from Medium to Hugo</a> I continued digging into the <a href="/tags/jam-stack">JAM stack</a> and <a href="/tags/gatsbyjs">GatsbyJS</a>, as having a statically generated site for my blog is working well so far.</p>
<p>I could have taken a ready template to mimic design and keep content and make another quick release. Though, for this migration, I decided to spent time taking concrete steps I consider reusable:</p>
<ul>
<li>Content migration with minimum efforts</li>
<li>Programatic content creation workflow in GatsbyJS</li>
<li>Make pagination, pages with and for tags, etc.</li>
<li>Add admin panel with <a href="https://www.netlifycms.org/">NetlifyCMS</a></li>
</ul>
<p>This article will highlight lessons learned about these steps with the aim to provide high-level guidelines about patterns which can be re-used in migrations with other generators to GatsbyJS.</p>
<h3 id="background-before-you-start"><a href="#background-before-you-start" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Background before you start</h3>
<p><a href="https://gohugo.io/">Hugo</a> is a really super fast, convenient and well-supported tool for working with static sites. I think today it's still more mature and closer to classical CMSs than GatsbyJS workflow-wise. This means that at this time, when you need a ready plugin or a theme for quick gratification, it's more likely to find something ready online.</p>
<p>Whereas, GatsbyJS is based on React, GraphQL, Webpack and the way of thinking is closer to how a developer from MEAN/SPA stack would approach problems. It's also a bit more "raw" and there are starters and typography.js, but not so many ready solutions in the conventional sense.</p>
<p>If you have landed at this article researching which tool is better for your job, take a look at <a href="https://www.slant.co/versus/1016/18503/~hugo_vs_gatsby-js">comparisons</a> and keep in mind that selecting a <a href="https://stackshare.io/stackups/gatsby-vs-hugo">stack</a> boils down to being effective with it.</p>
<p>For me, GatsbyJS is <a href="/learn-gatsbyjs">valuable learning experience</a> and it has also been so easy to work with, it feels "unfair". For example, the plugin system of GatsbyJS keeps me sane and productive, even at cases I know only the brief overview concepts of Webpack, whereas others have spent hours and days configuring what I get out of the box to be productive.</p>
<h3 id="content-migration"><a href="#content-migration" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Content migration</h3>
<p>This task was easier than expected. The file structure is preserved between my previous blog and the current version. Both Hugo and GatsbyJS work well when markdown files are stored in flat at <code class="language-text">content/post</code> folder in my repository.</p>
<p>The only work I had to do on the content "migration" was to reformat the <a href="https://gohugo.io/content-management/front-matter/">frontmatter</a>. In Hugo, I used TOML, whereas <code class="language-text">gatsby-transformer-remark</code> works only with YAML for the moment. Luckily, I still had the cli of Hugo on my system and could make use of the <a href="https://gohugo.io/commands/hugo_convert_toyaml/">build-in conversion tool</a>. I guess this would be a bit less straight-forward in more sophisticated and nested hierarchy structures. In my case, the only issue I had was that sometimes titles were longer than 1 line and were not parse-able by the GatsbyJS build, so I just had to cut some words out where problematic.</p>
<p>Last word about this step is that my previous frontmatter already contained <code class="language-text">title</code>, <code class="language-text">date</code>, <code class="language-text">tags</code>, and most importantly - the <code class="language-text">slug</code> fields. These were enough for my later work on the programatic creation of content explained in the next section.</p>
<h3 id="programatic-content-creation"><a href="#programatic-content-creation" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Programatic content creation</h3>
<p>This is the official <a href="https://www.gatsbyjs.org/docs/creating-and-modifying-pages/">documentation</a>, plus there is a <a href="https://www.gatsbyjs.org/tutorial/part-four/#data-in-gatsby">tutorial</a> which gives examples. Basically, I had to create a <code class="language-text">gatsby-node.js</code> file which exports <code class="language-text">createPages</code> method using the <code class="language-text">createPage</code> action from <a href="https://www.gatsbyjs.org/docs/bound-action-creators/"><code class="language-text">boundActionCreators</code></a>.</p>
<p>This might sound way more complicated than what it is:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript">exports<span class="token punctuation">.</span><span class="token function-variable function">createPages</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> graphql<span class="token punctuation">,</span> boundActionCreators <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> createPage <span class="token punctuation">}</span> <span class="token operator">=</span> boundActionCreators<span class="token punctuation">;</span>
  <span class="token function">graphql</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    {
      allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {
        edges {
          node {
            frontmatter {
              title
              slug
              tags
            }
          }
        }
      }
    }
  `</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> posts <span class="token operator">=</span> result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>allMarkdownRemark<span class="token punctuation">.</span>edges<span class="token punctuation">;</span>
    <span class="token comment">// Create content programatically here</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>As you see, getting the list of posts can be done in a single query.</p>
<p>The result of this query can later be handled by a "creator" function, which I prefer to keep in a separate module. For example, creating posts works like following:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`path`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>createPage<span class="token punctuation">,</span> nodes<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> template <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`src/templates/post.js`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  nodes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> node <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>slug<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">createPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>
        component<span class="token punctuation">:</span> template<span class="token punctuation">,</span>
        context<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          slug<span class="token punctuation">:</span> node<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>I re-use the <code class="language-text">slug</code> field of the frontmatter of my existing structure. I don't have to generate or calculate slugs based on information of other fields, i.e. my scenario is easier than the tutorial on the official docs.</p>
<p>This is an example of "unfair" easy - I don't have to do literally anything to keep my previous URLs of existing content the same in the new system.</p>
<p>The display of the data is handled by a React component acting as a template. My case is nothing different than the <a href="https://www.gatsbyjs.org/docs/building-with-components/#page-template-components">official documentation</a>, nothing exotic.</p>
<h3 id="pagination-and-tags-pages"><a href="#pagination-and-tags-pages" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pagination and tags pages</h3>
<p>Now that I got a decent grasp of how to create content in my new site, I proceeded with creating pagition. I have about 30 blog posts, so I went for a split by 10 to give an impression I have a lot of content :)</p>
<p>As usual, a good starting point was searching for example implementations available in <a href="https://github.com/gatsbyjs/gatsby/tree/master/examples/"><code class="language-text">examples</code></a> and the issue queue. There, in the issue queue, is a gem <a href="https://github.com/gatsbyjs/gatsby/issues/1199">epic about plugins wishlist</a> where I found the discussion leading to <a href="https://github.com/pixelstew/gatsby-paginate">gatsby-paginate</a>.</p>
<p>As I wanted to have different contexts than the plugin, so I took inspiration for both tags and pagination scenarios. I kept them as separate action creators and I just called them in the main creator function like this:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> createPostPages <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`./gatsby-actions/createPostPages`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> createPaginatedPostsPages <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`./gatsby-actions/createPaginatedPostsPages`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> createTagPages <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`./gatsby-actions/createTagPages`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">createPages</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> graphql<span class="token punctuation">,</span> boundActionCreators <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> createPage <span class="token punctuation">}</span> <span class="token operator">=</span> boundActionCreators<span class="token punctuation">;</span>
  <span class="token function">graphql</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    {
      allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {
        edges {
          node {
            frontmatter {
              title
              slug
              tags
            }
          }
        }
      }
    }
  `</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> posts <span class="token operator">=</span> result<span class="token punctuation">.</span>data<span class="token punctuation">.</span>allMarkdownRemark<span class="token punctuation">.</span>edges<span class="token punctuation">;</span>
    <span class="token function">createPostPages</span><span class="token punctuation">(</span>createPage<span class="token punctuation">,</span> posts<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">createPaginatedPostsPages</span><span class="token punctuation">(</span>createPage<span class="token punctuation">,</span> posts<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">createTagPages</span><span class="token punctuation">(</span>createPage<span class="token punctuation">,</span> posts<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>Easy to read, understand and mantain. The pagination module is a bit longer than the one of the posts:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`path`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>createPage<span class="token punctuation">,</span> nodes<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> template <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`src/templates/postList.js`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> paginateSize <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

  <span class="token comment">// Split posts into arrays of length equal to number posts on each page/paginateSize</span>
  <span class="token keyword">const</span> groupedPages <span class="token operator">=</span> nodes
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> index <span class="token operator">%</span> paginateSize <span class="token operator">===</span> <span class="token number">0</span>
        <span class="token operator">?</span> nodes<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> index <span class="token operator">+</span> paginateSize<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=></span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Create new indexed route for each array</span>
  groupedPages<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> index<span class="token punctuation">,</span> groups<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pageIndex <span class="token operator">=</span> index <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token template-string"><span class="token string">``</span></span> <span class="token punctuation">:</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> paginationRoute <span class="token operator">=</span> <span class="token template-string"><span class="token string">`/blog/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pageIndex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
    <span class="token comment">// Avoid showing `Previous` link on first page - passed to context</span>
    <span class="token keyword">const</span> first <span class="token operator">=</span> index <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">// Avoid showing `Next` link if this is the last page - passed to context</span>
    <span class="token keyword">const</span> last <span class="token operator">=</span> index <span class="token operator">===</span> groups<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">createPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> paginationRoute<span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> template<span class="token punctuation">,</span>
      context<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        group<span class="token punctuation">,</span>
        first<span class="token punctuation">,</span>
        last<span class="token punctuation">,</span>
        index<span class="token punctuation">:</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>Then, pull context information in the React component:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">BlogPagedIndex</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> pathContext <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> group<span class="token punctuation">,</span> index<span class="token punctuation">,</span> first<span class="token punctuation">,</span> last <span class="token punctuation">}</span> <span class="token operator">=</span> pathContext<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token comment">// Some elements</span>
      <span class="token operator">...</span>

      <span class="token comment">// The posts</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">></span>
        <span class="token punctuation">{</span>group<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>Post key<span class="token operator">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span> node<span class="token operator">=</span><span class="token punctuation">{</span>node<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>

      <span class="token comment">// The pager</span>
      <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token operator">!</span>first <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`/blog/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">></span> <span class="token number">2</span> <span class="token operator">?</span> index <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span>Newer posts<span class="token operator">&lt;</span>Link<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token operator">!</span>last <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`/blog/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span><span class="token operator">></span>Older posts<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> BlogPagedIndex<span class="token punctuation">;</span></code></pre>
      </div>
<p>This is a cut-down version of the component only for the blog post, do not copy with too much trust ...</p>
<p>I have to be honest that I haven't made pagination in React/Redux, but I feel this pagination approach would be comparatively easier. Also, I want the pagination pages to be accessible at all times, not only on state change, so the content creation approach of building the list works well for me.</p>
<p>I will say again that I see this is "unfair" easy. It's probably the quickest implementation of pagination I've made in my life. I believe GraphQL pagination with caching and Redux, etc. would be a more sophisticated way to solve the problem ;)</p>
<p>For the list of tags and inner tags pages, the approach was similar but passing different context to the template component:</p>
<p>For the overview page of tags:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token function">createPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`/tags`</span></span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> template<span class="token punctuation">,</span>
  context<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    posts<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>For the inner tag page:</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token function">createPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`/tags/`</span></span> <span class="token operator">+</span> <span class="token function">slugify</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span><span class="token punctuation">,</span>
  component<span class="token punctuation">:</span> template<span class="token punctuation">,</span>
  context<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    posts<span class="token punctuation">,</span>
    post<span class="token punctuation">,</span>
    tag<span class="token punctuation">:</span> tagName<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<h3 id="admin-panel"><a href="#admin-panel" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Admin panel</h3>
<p>I have another <a href="/admin-ui-gatsby-static-site-generator">blog post on the topic</a> so I won't go into too many details.</p>
<p>I tried to use the <code class="language-text">git-gateway</code> identity management approach in Netlify, but it didn't work for me. I could not reach the point to validate or reset the password for my user 1, so I kept the "old-school" way of github integration which works just well for me at the moment, having the fact I will be 1 user to work on the site.</p>
<p>Not to mention also that I add this admin panel mostly for demoing the concept of JAM stack with admin panel to colleagues and friends, not to actually write there so much as I'm using Atom.</p>
<p>Long story short, this is the <code class="language-text">config.yml</code> configuration file:</p>
<div class="gatsby-highlight" data-language="yaml">
      <pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">backend</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> github
  <span class="token key atrule">repo</span><span class="token punctuation">:</span> kalinchernev/kalinchernev.github.io <span class="token comment"># Path to your Github repository</span>
  <span class="token key atrule">branch</span><span class="token punctuation">:</span> gatsby <span class="token comment"># Branch to update (master by default)</span>

<span class="token key atrule">publish_mode</span><span class="token punctuation">:</span> editorial_workflow
<span class="token key atrule">media_folder</span><span class="token punctuation">:</span> "static/images" <span class="token comment"># Folder where user uploaded files should go</span>

<span class="token key atrule">collections</span><span class="token punctuation">:</span> <span class="token comment"># A list of collections the CMS should be able to edit</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> "post" <span class="token comment"># Used in routes, ie.: /admin/collections/:slug/edit</span>
    <span class="token key atrule">label</span><span class="token punctuation">:</span> "Post" <span class="token comment"># Used in the UI, ie.: "New Post"</span>
    <span class="token key atrule">folder</span><span class="token punctuation">:</span> "content/post" <span class="token comment"># The path to the folder where the documents are stored</span>
    <span class="token key atrule">sort</span><span class="token punctuation">:</span> "date<span class="token punctuation">:</span>desc" <span class="token comment"># Default is title:asc</span>
    <span class="token key atrule">create</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment"># Allow users to create new documents in this collection</span>
    <span class="token key atrule">slug</span><span class="token punctuation">:</span> <span class="token string">"{{slug}}"</span>
    <span class="token key atrule">fields</span><span class="token punctuation">:</span> <span class="token comment"># The fields each document in this collection have</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> Title<span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span> <span class="token key atrule">tagname</span><span class="token punctuation">:</span> <span class="token string">"h1"</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Date"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"datetime"</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> Slug<span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"slug"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"string"</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> Tags<span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> tags<span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> list<span class="token punctuation">,</span> <span class="token key atrule">default</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'APIs'</span><span class="token punctuation">,</span> <span class="token string">'JavaScript'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span><span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Body"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"body"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"markdown"</span><span class="token punctuation">}</span></code></pre>
      </div>
<p>The only interesting part is the <code class="language-text">gatsby</code> branch which I used in parallel to the <code class="language-text">blog</code> branch. The <code class="language-text">gatsby</code>
branch is my development/staging and <code class="language-text">blog</code> is my production.</p>
<p>This is my admin page React component which is placed in <code class="language-text">src/pages/admin</code> so that GatsbyJS delivers the HTML page at <code class="language-text">/admin</code>.</p>
<div class="gatsby-highlight" data-language="javascript">
      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Helmet <span class="token keyword">from</span> <span class="token string">'react-helmet'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">AdminPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"admin"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>Helmet<span class="token operator">></span>
      <span class="token operator">&lt;</span>meta charSet<span class="token operator">=</span><span class="token string">"utf-8"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>title<span class="token operator">></span>Content Manager<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>
      <span class="token operator">&lt;</span>link
        rel<span class="token operator">=</span><span class="token string">"stylesheet"</span>
        href<span class="token operator">=</span><span class="token string">"https://unpkg.com/netlify-cms@^0.5.0/dist/cms.css"</span>
      <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>script
        type<span class="token operator">=</span><span class="token string">"text/javascript"</span>
        charSet<span class="token operator">=</span><span class="token string">"utf-8"</span>
        <span class="token keyword">async</span>
        src<span class="token operator">=</span><span class="token string">"https://unpkg.com/netlify-cms@^0.5.0/dist/cms.js"</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Helmet<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AdminPage<span class="token punctuation">;</span></code></pre>
      </div>
<p>In order for NetlifyCMS script to find the configuration file correctly, <code class="language-text">config.yml</code> should be placed in <code class="language-text">static/admin/config.yml</code>.</p>
<p>Any other location or file name will result in an error.</p>
<h3 id="conclusions"><a href="#conclusions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusions</h3>
<p>In this blog post I shared how a migration from one static generator as Hugo can work towards GatsbyJS. The reasons for doing a migration like this are a commbination of development-time benefits (easier development) and also a better production build of a static site which feels as smooth as a single page application.</p>
<p>We also went through the few technical details necessary to realize the migration, using GraphQL query, creators and templates. Lastly, we added an admin panel to brag to others about that content management part of our static site can be as easy as the development part of it ;)</p>
<p>Enjoy!</p></div></div></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-0494da9cbd1a254349c4.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","213130420965792":"component---src-templates-post-jsx-03c2578b4447572f077c.js","165698819012947":"component---src-templates-post-list-jsx-d14a095945701373ec2e.js","103555066157098":"component---src-templates-tags-jsx-113196bd386d04b3ea22.js","183328146348521":"component---src-pages-404-jsx-4503918ea3a16cfcdb75.js","213534597649335":"component---src-pages-index-jsx-7ec3d44ceac747fd8be7.js","60335399758886":"path----67206d53b627ad09240a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","19613488350017":"path---gatsbyjs-qa-linting-testing-415e2219420b281658b7.js","26676594811490":"path---getting-better-with-graphql-98159e6f22926903e98d.js","190508315458854":"path---theming-documentationjs-6a964223e79a8a280194.js","157313778885209":"path---cms-gatsbyjs-5d2113679e6bd1cf474e.js","24514147235673":"path---escaping-macbook-pro-touchbar-470965e0a208d6e94766.js","238161999006987":"path---migrate-hugo-gatsby-2c46ba249f65d91bd55f.js","57645018698791":"path---tdd-serverless-jest-2d83b4718657899d2e7c.js","210780441067483":"path---learn-gatsbyjs-bbaa13245f7050930a82.js","161312236961755":"path---fixing-mobile-phone-3044ee72dab23cd82cb3.js","175124618843428":"path---admin-ui-gatsby-static-site-generator-4e4c376822d4d92819f6.js","200028962875982":"path---serverless-github-bot-aws-lambda-api-gateway-nodejs-5f75aad36040a359be8e.js","120507901039639":"path---personal-computers-personal-assistants-c8df1ecf1eced30c0d47.js","188652004370668":"path---releasing-new-blog-783a80d136fedf58ed2a.js","241466886276089":"path---march-digest-2017-3a5b262448642df4868c.js","78022607812443":"path---prototyping-apis-open-api-specification-2feb9e96286b2448970d.js","113770454835686":"path---february-digest-2017-5588f53b002101bb43c9.js","45132818249696":"path---graphql-guide-wish-found-before-f0550a5752b3fcfb127f.js","158748801037096":"path---reflecting-nodejs-design-patterns-e9093ec7163f67c067be.js","111648751794050":"path---january-digest-2017-b5c536d939d96f0d0805.js","62944401183182":"path---agile-documentation-api-driven-project-9da05d5d68f0560fdff6.js","273808356325320":"path---problem-first-problem-solving-f244c03febc7d3075ceb.js","34081568863440":"path---holiday-digest-2016-9b896ede529961b62689.js","137121618076878":"path---think-about-apps-not-websites-867f73e3a0406d295d57.js","111395020342515":"path---stream-adventure-triage-00e55fcd6b65f2ae9a84.js","57738659755549":"path---eu-data-portal-nodejs-client-028c803a613c1210bb44.js","237162670812729":"path---drupal-8-cloud-9-ide-fc0491833983dcebb2df.js","131259894111103":"path---debugging-nodejs-in-cloud-9-ide-e555d5b2158dfab9767d.js","124571513649567":"path---cloud-9-editor-8a7649a17d6529062e98.js","225646168226562":"path---drupalaton-2016-4009d0da824266058a56.js","125837075400254":"path---coding-battle-molengeek-ced48ed74e341b69ac5c.js","47145593380510":"path---coding-battle-microsoft-innovation-center-78551bbe046e0342f732.js","154799016109829":"path---coding-battle-take-eat-easy-6f55205cc514ba462c7d.js","229783079085155":"path---first-coding-battle-belgium-da8d8682ee6bb8baad43.js","219204398460716":"path---focus-community-good-services-2199e1aa4c7bb6d1bec4.js","45788430371641":"path---history-f084bd60af63e651889a.js","163372391994044":"path---history-2-bc6fb533272d5157234f.js","262239731422010":"path---history-3-69a49dc74b370320dd7d.js","88681480596478":"path---history-4-04668927d5905d3f54df.js","55702396619907":"path---tags-4d19129f0b4ad5792409.js","230749677424456":"path---tags-jamstack-e72e3417708bb2aa256d.js","67335324583948":"path---tags-javascript-5a90184ecfcaaea1d56a.js","111650216442129":"path---tags-gatsbyjs-d465281955096cefd235.js","183519042959193":"path---tags-tdd-42c6b303d9629f127b8b.js","50597499775658":"path---tags-graphql-1956899f8b8bb5a7daf9.js","264708554881638":"path---tags-webdev-cb23f6d26ed957bf6891.js","8743152238705":"path---tags-documentation-c2336c6c1a2be11dec92.js","1725791324835":"path---tags-documentationjs-3d2f05f90996e5925af1.js","275481653870189":"path---tags-macbook-cc90473918da2be8dde3.js","43819784967033":"path---tags-macos-43918ec93c25a3676116.js","34885552124715":"path---tags-productivity-a362d976825c4885d93b.js","153958561265266":"path---tags-keyboard-bd1fa397aebede491ab1.js","30909594585211":"path---tags-serverless-03fd67b3a9207f7bda93.js","45154319480143":"path---tags-nodejs-6d18faf8075496aa72c8.js","32765110312016":"path---tags-aws-cc7a5629ee56692b3bd5.js","233330967837169":"path---tags-misc-56fc7960798c8431208d.js","71834083963974":"path---tags-bots-af3082964acc0fae777b.js","191862733929324":"path---tags-assistants-831d30b9031d225cb35b.js","243984191904889":"path---tags-apps-c609a5cb712ef1949c96.js","92900522393385":"path---tags-blogging-6118babeb46738d0082b.js","157029411722283":"path---tags-medium-6a85cd7664edf03d4dc2.js","206118316212628":"path---tags-apis-23866e43b424be7c6091.js","380980657044":"path---tags-open-apis-81c7be64935b40bc492b.js","223455337592528":"path---tags-prototyping-a97729eeec09de125ac1.js","166610389901754":"path---tags-vim-1877f89eb6e60165baee.js","40981256952865":"path---tags-design-patterns-e6685ddb90ba4b82628c.js","86747829675984":"path---tags-cloud-117d91c38174c92e90e5.js","262338835428570":"path---tags-swagger-7b5d65d7a1aa7cd786be.js","25746651235685":"path---tags-problem-solving-6f8cfcc5454d94ac9842.js","201821146034242":"path---tags-meta-articles-ac781a2b6ef6bface01f.js","105966082061009":"path---tags-mobile-4f46a621c1ece835dc97.js","226325790954656":"path---tags-progressive-web-apps-e8901111db31a63b4675.js","52998803222938":"path---tags-open-source-b671df9ad0f9760675b5.js","34266060654147":"path---tags-open-data-38e81341b1b19de389eb.js","128140384679439":"path---tags-php-4bb836bb2c7203375e1c.js","253653674957030":"path---tags-drupal-d3ddd1582d776b2bd1c1.js","96054509920718":"path---tags-debugging-a201a9249a5d89eae7e3.js","213168313804358":"path---tags-cloud-9-c94f76beb538cee8acc1.js","179677696783923":"path---tags-tools-b993cebbd70a380467b1.js","243669153473081":"path---tags-hack-events-2d3e1c0333e3ab60249a.js","20956934260092":"path---tags-programming-efc6a89ca3be1a128193.js","129938341775535":"path---tags-coding-competitions-fead4a78f23eccf67749.js","37651519232682":"path---tags-coding-845dbbc142f177469479.js","127976405526986":"path---tags-community-cf3ba3f6fac8f8d418b4.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","142629428675168":"path---index-3fd50735e5a46c35c956.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","79611799117203":"component---src-layouts-index-jsx-239cdbc481eaa8f683a7.js"}/*]]>*/</script><script>
            
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-97001925-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-97001925-1', 'auto');
      ga('set', 'anonymizeIp', 1);}
      </script><script>/*<![CDATA[*/["/commons-3163c2467c847a5e0464.js","/app-0494da9cbd1a254349c4.js","/path---migrate-hugo-gatsby-2c46ba249f65d91bd55f.js","/component---src-templates-post-jsx-03c2578b4447572f077c.js","/component---src-layouts-index-jsx-239cdbc481eaa8f683a7.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>